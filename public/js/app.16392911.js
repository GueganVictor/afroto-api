(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0909":function(t,e,a){},"20aa":function(t,e,a){"use strict";a("2bd6")},"2bd6":function(t,e,a){},3213:function(t,e,a){},"43cd":function(t,e,a){"use strict";a("0909")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("router-link",{attrs:{to:"/"}},[a("h1",{staticStyle:{color:"white"}},[t._v("Afroto")])])],1),a("v-spacer"),a("router-link",{attrs:{to:"/notifications"}},[a("v-badge",{attrs:{content:t.getNbNotif(),value:t.getNbNotif(),color:"error",overlap:""}},[a("v-btn",{staticClass:"white--text",attrs:{color:"blue lighten-1",fab:"",small:""},on:{mouseover:function(e){t.iconNotif="mdi-bell"},mouseout:function(e){t.iconNotif="mdi-bell-outline"}}},[a("v-icon",[t._v(t._s(t.iconNotif))])],1)],1)],1),this.loggedIn?t._e():a("div",[a("v-btn",{attrs:{text:"",to:"/register"}},[t._v("Inscription")]),a("v-btn",{attrs:{text:"",to:"/login"}},[t._v("Connexion")])],1),this.loggedIn?a("div",[a("v-btn",{staticClass:"ml-5",attrs:{icon:""},on:{click:function(e){return e.preventDefault(),t.logOut(e)}}},[a("v-icon",[t._v("mdi-logout")])],1)],1):t._e()],1),a("v-navigation-drawer",{attrs:{permanent:"","expand-on-hover":"",clipped:"",app:""}},[a("v-list",{attrs:{nav:"",dense:""}},t._l(t.sideBarItems,(function(e){return a("v-list-item",{key:e.link,attrs:{to:e.link,link:""}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.text))])],1)})),1)],1),a("v-main",[a("router-view")],1)],1)},r=[],s=(a("4de4"),a("caad"),a("2532"),{name:"App",components:{},data:function(){return{iconNotif:"mdi-bell-outline",isAdmin:!1,items:null,nbNotif:5,show:!1,itemsPhoto:[{icon:"mdi-home-outline",text:"Accueil",link:"/home"},{icon:"mdi-inbox-full-outline",text:"Mes Projets",link:"/projets"},{icon:"mdi-calendar-outline",text:"Calendrier",link:"/calendrier"},{icon:"mdi-bell-outline",text:"Notifications",link:"/notifications"},{icon:"mdi-account-outline",text:"Mon Profil",link:"/profil"}],itemsAdmin:[{icon:"mdi-home-outline",text:"Accueil",link:"/admin"},{icon:"mdi-inbox-full-outline",text:"Projets",link:"/admin/projets"},{icon:"mdi-account-multiple-outline",text:"Photographes",link:"/admin/photographes"},{icon:"mdi-link",text:"Demandes",link:"/admin/demandes"}]}},created:function(){this.loggedIn?this.currentUser.roles.includes("ROLE_ADMIN")?this.items=this.itemsAdmin:this.items=this.itemsPhoto:this.item=[]},computed:{sideBarItems:function(){return this.loggedIn?this.currentUser.roles.includes("ROLE_ADMIN")?this.itemsAdmin:this.itemsPhoto:[]},loggedIn:function(){return this.$store.state.auth.status.loggedIn},currentUser:function(){return this.$store.state.auth.user}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},getNbNotif:function(){return this.$store.state.notification.userNotifications.filter((function(t){return!t.seen})).length}}}),i=s,c=a("2877"),l=a("6544"),u=a.n(l),d=a("7496"),p=a("40dc"),m=a("4ca6"),h=a("8336"),v=a("132d"),f=a("8860"),g=a("da13"),b=a("34c3"),y=a("5d23"),j=a("f6c4"),x=a("f774"),_=a("2fa4"),k=Object(c["a"])(i,o,r,!1,null,null,null),V=k.exports;u()(k,{VApp:d["a"],VAppBar:p["a"],VBadge:m["a"],VBtn:h["a"],VIcon:v["a"],VList:f["a"],VListItem:g["a"],VListItemIcon:b["a"],VListItemTitle:y["b"],VMain:j["a"],VNavigationDrawer:x["a"],VSpacer:_["a"]});a("99af");var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"})},$=[],w={name:"WelcomePage",computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn},currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.loggedIn&&(this.currentUser.roles.includes("ROLE_ADMIN")?this.$router.push("/admin"):this.$router.push("/home"))}},C=w,I=Object(c["a"])(C,P,$,!1,null,"8187f99e",null),O=I.exports,E=a("8c4f"),R=(a("d81d"),a("5530")),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.handleLogin(e)}}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login")])],1),a("v-card-text",[a("validation-provider",{attrs:{name:"username",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("v-text-field",{attrs:{"error-messages":n,label:"Username","prepend-icon":"mdi-account",required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})]}}],null,!0)}),a("validation-provider",{attrs:{name:"password",rules:"required|min:6"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors;return[a("v-text-field",{attrs:{"error-messages":n,label:"Password",type:"password","prepend-icon":"mdi-lock",required:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})]}}],null,!0)}),t.message?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):t._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary",loading:t.loading}},[t._v("Login")])],1)],1)],1)]}}])})],1)],1)],1)},T=[],q=(a("b0c0"),a("d4ec")),N=function t(e,a,n,o,r,s,i,c,l,u,d,p,m,h,v){Object(q["a"])(this,t),this._id=a,this.username=e,this.name=n,this.birthdate=o,this.email=r,this.phone=s,this.city=i,this.password=c,this.lenses=l,this.cameras=u,this.about=d,this.roles=p,this.facebook=m,this.instagram=h},A=a("4c93"),B=a("7bb1");Object(B["setInteractionMode"])("eager"),Object(B["extend"])("digits",Object(R["a"])(Object(R["a"])({},A["a"]),{},{message:"{_field_} needs to be {length} digits. ({_value_})"})),Object(B["extend"])("required",Object(R["a"])(Object(R["a"])({},A["f"]),{},{message:"{_field_} can not be empty"})),Object(B["extend"])("max",Object(R["a"])(Object(R["a"])({},A["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(B["extend"])("min",Object(R["a"])(Object(R["a"])({},A["d"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(B["extend"])("regex",Object(R["a"])(Object(R["a"])({},A["e"]),{},{message:"{_field_} {_value_} does not match {regex}"})),Object(B["extend"])("email",Object(R["a"])(Object(R["a"])({},A["b"]),{},{message:"Email must be valid"}));var D={name:"Login",components:{ValidationProvider:B["ValidationProvider"],ValidationObserver:B["ValidationObserver"]},data:function(){return{user:new N,loading:!1,message:"",showError:!1}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push("/")},methods:{handleLogin:function(){var t=this;this.loading=!0,this.$refs.observer.validate().then((function(e){e?t.user.username&&t.user.password&&t.$store.dispatch("auth/login",t.user).then((function(e){t.$router.push("/")}),(function(e){t.loading=!1,t.message=e.response.data.message})):t.loading=!1}))}}},U=D,M=a("b0af"),F=a("99d9"),L=a("62ad"),J=a("a523"),z=a("4bd4"),H=a("0fd9"),W=a("8654"),G=a("71d9"),K=a("2a7f"),Q=Object(c["a"])(U,S,T,!1,null,"1470aeb8",null),X=Q.exports;u()(Q,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VCol:L["a"],VContainer:J["a"],VForm:z["a"],VRow:H["a"],VSpacer:_["a"],VTextField:W["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleRegister(e)}}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Inscription")])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Nom d'utilisateur",name:"username","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Nom et Prénom",name:"name","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-email",type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Date de naissance",name:"birthdate","prepend-icon":"mdi-calendar",type:"date"},model:{value:t.user.birthdate,callback:function(e){t.$set(t.user,"birthdate",e)},expression:"user.birthdate"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Téléphone",name:"phone","prepend-icon":"mdi-phone",type:"text"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Ville",name:"city","prepend-icon":"mdi-home",type:"text"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Mot de passe",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Confirmer le mot de passe",name:"password","prepend-icon":"mdi-lock",type:"password"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary"}},[t._v("Etape suivante")])],1)],1)],1)],1)],1)],1)},Z=[],tt={name:"Register",components:{},data:function(){return{user:new N,showError:!1}},methods:{handleRegister:function(){var t=this;this.$store.dispatch("auth/register",this.user).then((function(e){t.$router.push("/login")}),(function(e){t.loading=!1,t.message=e.response.data.message}))}}},et=tt,at=Object(c["a"])(et,Y,Z,!1,null,"3005b3b5",null),nt=at.exports;u()(at,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VCol:L["a"],VContainer:J["a"],VForm:z["a"],VRow:H["a"],VSpacer:_["a"],VTextField:W["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var ot=[{path:"/login",name:"Login",component:X},{path:"/register",name:"Register",component:nt}],rt=ot.map((function(t){return Object(R["a"])(Object(R["a"])({},t),{},{meta:{public:!1}})})),st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home pa-7"},[a("v-row",[a("v-col",[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-title",[t._v("Projets disponibles :")]),a("v-card-text",[a("h1",[t._v(t._s(this.$store.getters.getUserProjects.filter((function(t){return"Fini"!==t.status})).length))]),a("br")])],1)],1),a("v-col",[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-title",[t._v("Projets terminés :")]),a("v-card-text",[a("h1",[t._v(t._s(this.$store.getters.getUserProjects.filter((function(t){return"Fini"===t.status})).length))]),a("br")])],1)],1),a("v-col",[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-title",[t._v("Notifications en attente :")]),a("v-card-text",[a("h1",[t._v(t._s(this.$store.state.notification.userNotifications.filter((function(t){return!t.seen})).length))]),a("br")])],1)],1)],1),a("v-row",[a("v-col",[a("h1",[t._v("Projets")]),a("hr"),a("br"),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.myProjects,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.status",fn:function(e){var n=e.item;return[n.status?a("v-chip",{attrs:{"text-color":"white",color:t.getColor(n.status)}},[t._v(t._s(n.status))]):t._e()]}}])})],1)],1)],1)},it=[],ct={name:"Home",data:function(){return{loading:!1,options:{},headers:[{text:"Nom du projet",value:"name",align:"start"},{text:"Entreprise",value:"company"},{text:"Statut",value:"status"},{text:"Remuneration",value:"remuneration"},{text:"Dates",value:"dates"},{text:"Commentaires",value:"comments"}]}},methods:{getColor:function(t){return"En cours"===t?"blue":"Fini"===t?"red":"En pause"===t?"orange":"Annulé"===t?"black":void 0}},computed:{projects:function(){return this.$store.getters.getProjects},myProjects:function(){return this.$store.getters.getUserProjects},photographers:function(){return this.$store.getters.getPhotographers},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.$store.dispatch("loadProjects"),this.$store.dispatch("loadUserProjects",this.$store.state.auth.user),this.$store.dispatch("loadPhotographers")}},lt=ct,ut=a("cc20"),dt=a("8fea"),pt=Object(c["a"])(lt,st,it,!1,null,"67f0dd7f",null),mt=pt.exports;u()(pt,{VCard:M["a"],VCardText:F["b"],VCardTitle:F["c"],VChip:ut["a"],VCol:L["a"],VDataTable:dt["a"],VRow:H["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("v-calendrier")],1)},vt=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?a("v-toolbar-title",[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),a("v-spacer"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",o,!1),n),[a("span",[t._v(t._s(t.typeToLabel[t.type]))]),a("v-icon",{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){t.type="day"}}},[a("v-list-item-title",[t._v("Day")])],1),a("v-list-item",{on:{click:function(e){t.type="week"}}},[a("v-list-item-title",[t._v("Week")])],1),a("v-list-item",{on:{click:function(e){t.type="month"}}},[a("v-list-item-title",[t._v("Month")])],1),a("v-list-item",{on:{click:function(e){t.type="4day"}}},[a("v-list-item-title",[t._v("4 days")])],1)],1)],1)],1)],1),a("v-sheet",{attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.events,"event-color":t.getEventColor,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.viewDay,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[a("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),a("v-spacer"),a("v-btn",{attrs:{to:"/project/"+t.selectedEvent.id,icon:""}},[a("v-icon",[t._v("mdi-fullscreen")])],1)],1),a("v-card-text",[a("span",{domProps:{innerHTML:t._s(t.selectedEvent.details)}})])],1)],1)],1)],1)],1)},gt=[],bt=(a("4160"),a("159b"),{data:function(){return{focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[]}},mounted:function(){this.$refs.calendar.checkChange(),this.$store.dispatch("loadUserProjects",this.$store.state.auth.user),this.updateRange()},methods:{viewDay:function(t){var e=t.date;this.focus=e,this.type="day"},getEventColor:function(t){return t.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(t){var e=this,a=t.nativeEvent,n=t.event,o=function(){e.selectedEvent=n,e.selectedElement=a.target,setTimeout((function(){e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(o,10)):o(),a.stopPropagation()},updateRange:function(){var t=[],e=this.$store.state.project.userProjects;e.forEach((function(e){t.push({id:e._id,name:e.name,start:e.dates[0],details:e.informations,end:e.dates[1],color:"primary"})})),this.events=t},rnd:function(t,e){return Math.floor((e-t+1)*Math.random())+t}}}),yt=bt,jt=(a("43cd"),a("a4f6")),xt=a("e449"),_t=a("8dd9"),kt=Object(c["a"])(yt,ft,gt,!1,null,"54fa297a",null),Vt=kt.exports;u()(kt,{VBtn:h["a"],VCalendar:jt["a"],VCard:M["a"],VCardText:F["b"],VCol:L["a"],VIcon:v["a"],VList:f["a"],VListItem:g["a"],VListItemTitle:y["b"],VMenu:xt["a"],VRow:H["a"],VSheet:_t["a"],VSpacer:_["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var Pt={name:"Calendar",components:{VCalendrier:Vt}},$t=Pt,wt=(a("74b4"),Object(c["a"])($t,ht,vt,!1,null,"a3f82fbc",null)),Ct=wt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Mon Profil")])],1),a("v-tabs",{attrs:{grow:""}},[a("v-tab",[t._v("Informations Générales")]),a("v-tab",[t._v("Equipment")]),a("v-tab-item",[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("div",[t._v("Appareils :")]),t._l(this.user.cameras,(function(e){return a("v-chip",{key:e,staticClass:"ma-2",attrs:{"text-color":"white",color:"blue",close:""},on:{"click:close":function(a){return t.deleteEquipment("camera",e)}}},[t._v(" "+t._s(e)+" ")])})),this.user.cameras&&0===this.user.cameras.length?a("v-chip",{staticClass:"ma-2"},[t._v("Aucun appareil")]):t._e(),a("v-dialog",{attrs:{width:"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",icon:""}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEquipment("camera")}}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Ajouter un appareil ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Modèle de l'appareil"},model:{value:t.camera,callback:function(e){t.camera=e},expression:"camera"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Valider ")])],1)],1)],1)],1)],2)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("div",[t._v("Objectifs :")]),t._l(this.user.lenses,(function(e){return a("v-chip",{key:e,staticClass:"ma-2",attrs:{"text-color":"white",color:"blue",close:""},on:{"click:close":function(a){return t.deleteEquipment("lens",e)}}},[t._v(" "+t._s(e)+" ")])})),this.user.lenses&&0===this.user.lenses.length?a("v-chip",{staticClass:"ma-2"},[t._v("Aucun objectifs")]):t._e(),a("v-dialog",{attrs:{width:"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",icon:""}},"v-btn",o,!1),n),[a("v-icon",[t._v("mdi-plus")])],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEquipment("lens")}}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Ajouter un appareil ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Modèle de l'appareil"},model:{value:t.lens,callback:function(e){t.lens=e},expression:"lens"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:function(e){t.dialog2=!1}}},[t._v(" Valider ")])],1)],1)],1)],1)],2)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("div",[t._v("Types de photo :")]),t._l(this.user.badges,(function(e){return a("v-chip",{key:e,staticClass:"ma-2",attrs:{"text-color":"white",color:"blue",close:""},on:{"click:close":function(a){return t.removeBadge(e)}}},[t._v(" "+t._s(e)+" ")])})),this.user.cameras&&0===this.user.badges.length?a("v-chip",{staticClass:"ma-2"},[t._v("Aucun types")]):t._e()],2)],1),a("v-row")],1),a("v-card-actions",[a("v-spacer"),a("fields-updater")],1)],1),a("v-tab-item",[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateItem(e)}}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Nom et Prénom",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Email",name:"login","prepend-icon":"mdi-email",type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Date de naissance","prepend-icon":"mdi-calendar",type:"date"},model:{value:t.user.birthdate,callback:function(e){t.$set(t.user,"birthdate",e)},expression:"user.birthdate"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Téléphone","prepend-icon":"mdi-phone",type:"text"},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Ville","prepend-icon":"mdi-home",type:"text"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Facebook","prepend-icon":"mdi-facebook",type:"text"},model:{value:t.user.facebook,callback:function(e){t.$set(t.user,"facebook",e)},expression:"user.facebook"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Instagram","prepend-icon":"mdi-instagram",type:"text"},model:{value:t.user.instagram,callback:function(e){t.$set(t.user,"instagram",e)},expression:"user.instagram"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary"}},[t._v("Mettre à jour mes données")])],1)],1)],1)],1)],1)],1)],1)],1)},Ot=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",o,!1),n),[t._v(" Mettre à jour vos types de photographies ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"fill-height overflow-hidden"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Mise à jour")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:t.handleForm}},[t._v(" Enregistrer ")])],1)],1),a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("h3",{staticStyle:{"text-align":"center","margin-bottom":"25px"}},[t._v("Veuillez selectionnez les types de photographie que vous pouvez réaliser")]),a("v-select",{attrs:{items:t.badges,"item-text":"name","item-value":"_id",te:"",attach:"",chips:"",label:"Choisissez vos types",solo:"",clearable:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.attrs,o=e.item,r=e.select,s=e.selected;return[a("v-chip",t._b({attrs:{"input-value":s},on:{click:r}},"v-chip",n,!1),[t._v(" "+t._s(o.name)+" ")])]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("v-col",{attrs:{cols:"8"}},[a("v-card",[a("v-tabs",{attrs:{grow:""},model:{value:t.active_tab,callback:function(e){t.active_tab=e},expression:"active_tab"}},[t._l(t.badges,(function(e){return a("v-tab",{key:e._id,staticStyle:{"justify-content":"left !important"}},[t._v(" "+t._s(e.name)+" ")])})),t._l(t.badges,(function(e){return a("v-tab-item",{key:e._id},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("h1",[t._v(t._s(e.name))]),a("hr",{staticClass:"my-5"}),a("p",{staticClass:"text-body-1"},[t._v(" "+t._s(e.description)+" ")])]),a("v-col",[a("v-img",{attrs:{src:"https://picsum.photos/500/300?image="+(5*e.name.length+t.badges.indexOf(e.name)),"aspect-ratio":"1"}})],1)],1)],1)],1)],1)}))],2)],1)],1)],1)],1)],1)],1)},Rt=[],St=(a("a4d3"),a("e01a"),function t(e,a,n,o,r,s,i){Object(q["a"])(this,t),this._id=e,this.type=a,this.url=n,this.description=o,this.accepted=r,this.badges=s,this.photographer=i}),Tt={name:"notification-box",data:function(){return{dialog:!0,notifications:!1,sound:!0,widgets:!1,active_tab:0,items:["Portrait","Evenementiel","Mode","Nu","Animalière","Nature morte","Culinaire","Aérienne","Photojournalisme","Mariage","Oeuvres d'Art"],value:[]}},computed:{badges:function(){return this.$store.getters.getBadges}},mounted:function(){this.$store.dispatch("loadBadges")},methods:{handleForm:function(){var t=this;if(0!==this.value.length){var e=new St;e.photographer=this.$store.state.auth.user.id,e.badges=this.value,e.accepted=!1,console.log(e),this.$store.dispatch("addRequest",e).then((function(e){t.$store.dispatch("loadPhotographers"),t.dialog=!1}),(function(e){t.loading=!1,t.message=e.response.data.message}))}}}},qt=Tt,Nt=a("169a"),At=a("adda"),Bt=a("b974"),Dt=a("71a3"),Ut=a("c671"),Mt=a("fe57"),Ft=Object(c["a"])(qt,Et,Rt,!1,null,null,null),Lt=Ft.exports;u()(Ft,{VBtn:h["a"],VCard:M["a"],VCardText:F["b"],VChip:ut["a"],VCol:L["a"],VContainer:J["a"],VDialog:Nt["a"],VIcon:v["a"],VImg:At["a"],VRow:H["a"],VSelect:Bt["a"],VSpacer:_["a"],VTab:Dt["a"],VTabItem:Ut["a"],VTabs:Mt["a"],VToolbar:G["a"],VToolbarItems:K["a"],VToolbarTitle:K["b"]});var Jt={components:{FieldsUpdater:Lt},name:"Profile",data:function(){return{user:new N,dialog:!1,dialog2:!1,dialog3:!1,items:["Portrait","Evenementiel","Mode","Nu","Animalière","Nature morte","Culinaire","Aérienne","Photojournalisme","Mariage","Oeuvres d'Art"],value:[],camera:"",lens:""}},computed:{currentUser:function(){return this.$store.state.auth.user},isAdmin:function(){return!!this.loggedIn&&this.currentUser.roles.includes("ROLE_ADMIN")},loggedIn:function(){return this.$store.state.auth.status.loggedIn},getCameraBadges:function(){return this.user.badges?(this.user.badges.forEach((function(t){if("camera"===t.type)return t.name})),null):[""]},getLensesBadges:function(){return null},getTypesBadges:function(){return null}},created:function(){this.currentUser||this.$router.push("/login"),this.$store.dispatch("loadPhotographers")},mounted:function(){this.setUser()},methods:{setUser:function(){var t,e,a=null!==(t=this.$route.params.id)&&void 0!==t?t:this.$store.state.auth.user.id;this.user=null!==(e=this.$store.getters.getPhotographer(a))&&void 0!==e?e:{},this.user.birthdate=this.formatDate(new Date(this.user.birthdate))},formatDate:function(t){return t.toISOString().substr(0,10)},updateItem:function(){var t,e=this;this.user._id=null!==(t=this.$route.params.id)&&void 0!==t?t:this.$store.state.auth.user.id,this.$store.dispatch("updateProfile",this.user).then((function(t){e.$store.dispatch("loadPhotographers")}),(function(t){alert(t.response.data.message)}))},addEquipment:function(t){var e,a=this;if((this.camera||"camera"!==t)&&(this.lens||"lens"!==t)){var n=null!==(e=this.$route.params.id)&&void 0!==e?e:this.$store.state.auth.user.id;this.$store.dispatch("addEquipment",{_id:n,equipment:"camera"===t?this.camera:this.lens,type:t}).then((function(t){a.user.cameras=t.data.data.cameras,a.user.lenses=t.data.data.lenses}),(function(t){alert(t.response.data.message)})),this.camera="",this.lens=""}},deleteEquipment:function(t,e){var a,n=this,o=null!==(a=this.$route.params.id)&&void 0!==a?a:this.$store.state.auth.user.id;this.$store.dispatch("deleteEquipment",{_id:o,camera:e,type:t}).then((function(e){"camera"===t?n.user.cameras=e.data.data.cameras:n.user.lenses=e.data.data.lenses}),(function(t){alert(t.response.data.message)}))}}},zt=Jt,Ht=Object(c["a"])(zt,It,Ot,!1,null,"b387ad4c",null),Wt=Ht.exports;u()(Ht,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VChip:ut["a"],VCol:L["a"],VContainer:J["a"],VDialog:Nt["a"],VForm:z["a"],VIcon:v["a"],VRow:H["a"],VSpacer:_["a"],VTab:Dt["a"],VTabItem:Ut["a"],VTabs:Mt["a"],VTextField:W["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"9"}},[a("h1",[t._v("Projets")]),a("hr"),a("br"),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.myProjects,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary",to:t.getRoute(n)}},[t._v(" Plus d'informations ")])]}}])})],1)],1)],1)},Kt=[],Qt={name:"Projects",data:function(){return{dialog:!1,loading:!1,projectId:"",options:{},itemSelect:["En cours","Fini","En pause","Annulé"],headers:[{text:"Nom du projet",value:"name",align:"start"},{text:"Entreprise",value:"company"},{text:"Statut",value:"status"},{text:"Remuneration",value:"remuneration"},{text:"Dates",value:"dates"},{text:"Commentaires",value:"comments"},{text:"Actions",value:"actions",align:"center"}]}},computed:{myProjects:function(){return this.$store.getters.getUserProjects},photographers:function(){return this.$store.getters.getPhotographers},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.$store.dispatch("loadProjects"),this.$store.dispatch("loadUserProjects",this.$store.state.auth.user),this.$store.dispatch("loadPhotographers")},methods:{getColor:function(t){return"En cours"===t?"blue":"Fini"===t?"red":"En pause"===t?"orange":"Annulé"===t?"black":void 0},getRoute:function(t){return"/project/"+t._id}}},Xt=Qt,Yt=Object(c["a"])(Xt,Gt,Kt,!1,null,"39c79ab9",null),Zt=Yt.exports;u()(Yt,{VBtn:h["a"],VCol:L["a"],VContainer:J["a"],VDataTable:dt["a"],VRow:H["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notifications"},[a("h1",[t._v("Notifications")]),a("hr"),a("br"),t._l(t.myNotifications,(function(e){return a("notification-box",{key:e._id,attrs:{color:t.getColor(e.importance),text:e.message,id:e._id}})}))],2)},ee=[],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-alert",{attrs:{color:t.color,dark:"",icon:"mdi-vuetify",prominent:"",dismissible:""},on:{input:t.deleteAlert},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" "+t._s(t.text)+" ")])],1)],1)},ne=[],oe={name:"notification-box",data:function(){return{alert:!0}},props:{text:String,icon:String,color:String,id:String},methods:{deleteAlert:function(){var t=this;this.$store.dispatch("deleteNotification",{_id:this.id}).then((function(e){t.$store.dispatch("loadUserNotifications",t.$store.state.auth.user)}),(function(t){alert(t.response.data.message)}))}}},re=oe,se=(a("78df"),a("0798")),ie=Object(c["a"])(re,ae,ne,!1,null,"34927306",null),ce=ie.exports;u()(ie,{VAlert:se["a"],VCol:L["a"],VRow:H["a"]});var le={name:"Notifications",components:{NotificationBox:ce},computed:{myNotifications:function(){return this.$store.getters.getUserNotifications},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.$store.dispatch("loadUserNotifications",this.$store.state.auth.user)},methods:{getColor:function(t){switch(t){case"3":return"primary";case"2":return"warning";case"1":return"error";default:break}}}},ue=le,de=(a("fba6"),Object(c["a"])(ue,te,ee,!1,null,"cc3ae11a",null)),pe=de.exports,me=[{path:"/home",name:"DashboardPhotographer",component:mt},{path:"/profil",name:"Profile",component:Wt},{path:"/calendrier",name:"Calendar",component:Ct},{path:"/projets",name:"Projects",component:Zt},{path:"/notifications",name:"Notifications",component:pe}],he=me.map((function(t){return Object(R["a"])(Object(R["a"])({},t),{},{meta:{public:!1}})})),ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"9"}},[a("h1",[t._v("Photographes")]),a("hr"),a("br"),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.photographers,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary",to:t.getRoute(n)}},[t._v(" Plus d'informations ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)],1)},fe=[],ge={name:"Projects",data:function(){return{loading:!1,options:{},itemSelect:["En cours","Fini","En pause","Annulé"],headers:[{text:"N°",value:"_id",align:"start"},{text:"Nom",value:"name"},{text:"Pseudo",value:"username"},{text:"email",value:"email"},{text:"Ville",value:"city"},{text:"Actions",value:"actions",align:"right"}]}},computed:{photographers:function(){return this.$store.getters.getPhotographers}},mounted:function(){this.$store.dispatch("loadPhotographers")},methods:{getRoute:function(t){return"/photographer/"+t._id},deleteItem:function(t){var e=this;this.$store.dispatch("deletePhotographer",t).then((function(t){e.$store.dispatch("loadPhotographers")}),(function(t){alert(t.response.data.message)}))}}},be=ge,ye=Object(c["a"])(be,ve,fe,!1,null,"00e387ba",null),je=ye.exports;u()(ye,{VBtn:h["a"],VCol:L["a"],VContainer:J["a"],VDataTable:dt["a"],VIcon:v["a"],VRow:H["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home pa-7"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{},[a("big-button",{staticClass:"mr-5 mb-5 elevation-5",attrs:{text:"Ajouter projet",color:"success",icon:"mdi-plus-circle",to:"/admin/ajouter_projet"}}),a("v-btn",{staticClass:"mr-5 mb-5 elevation-5",staticStyle:{"min-height":"100px","min-width":"100px"},attrs:{color:"warning",dark:""},on:{click:function(e){t.dialog=!0}}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticStyle:{"place-content":"center","margin-bottom":"12px"},attrs:{width:"100%"}},[a("v-icon",{attrs:{"x-large":"",color:"white"}},[t._v(" mdi-pencil-circle ")])],1),a("v-row",{staticStyle:{"place-content":"center"},attrs:{width:"100%"}},[a("h3",{staticStyle:{"font-weight":"bold"}},[t._v("Attribuer un photographe")])])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleAttribution(e)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Attribuer un photographe")])]),a("v-card-text",[a("v-container",[a("v-select",{attrs:{items:t.projects,"menu-props":"auto","item-text":"name","item-value":"_id",label:"Choisir projet",name:"project","prepend-icon":"mdi-wrench","single-line":""},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[a("div",[t._v(t._s(n.name+" by "+n.company))])]}}]),model:{value:t.projectId,callback:function(e){t.projectId=e},expression:"projectId"}}),a("v-select",{attrs:{items:t.photographers,"menu-props":"auto","item-text":"username","return-object":"",label:"Choisir photographe",name:"photographer","prepend-icon":"mdi-account","single-line":""},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[a("div",[t._v(t._s(n.name))])]}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Annuler ")]),a("v-btn",{attrs:{type:"submit",color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Confirmer ")])],1)],1)],1)],1),a("big-button",{staticClass:"mr-5 mb-5 elevation-5",attrs:{text:"Page photographes",color:"success",icon:"mdi-account-supervisor-circle",to:"/admin/photographes"}})],1)],1),a("v-row",[a("v-col",[a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.projects,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}},{key:"item.dates",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.dates.join(" / "))+" ")]}}])})],1)],1)],1)},_e=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{color:t.color,dark:"",to:t.to}},[a("v-col",{attrs:{cols:"12"}},[a("v-row",{staticStyle:{"place-content":"center","margin-bottom":"12px"},attrs:{width:"100%"}},[a("v-icon",{attrs:{"x-large":"",color:"white"}},[t._v(" "+t._s(t.icon)+" ")])],1),a("v-row",{staticStyle:{"place-content":"center"},attrs:{width:"100%"}},[a("h3",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.text))])])],1)],1)},Ve=[],Pe={name:"big-button",props:{to:String,text:String,icon:String,color:String}},$e=Pe,we=(a("20aa"),Object(c["a"])($e,ke,Ve,!1,null,"e10c936c",null)),Ce=we.exports;u()(we,{VBtn:h["a"],VCol:L["a"],VIcon:v["a"],VRow:H["a"]});var Ie={name:"Home",components:{BigButton:Ce},data:function(){return{dialog:!1,loading:!1,projectId:"",userId:"",options:{},headers:[{text:"Nom du projet",value:"name",align:"start"},{text:"Entreprise",value:"company"},{text:"Statut",value:"status"},{text:"Remuneration",value:"remuneration"},{text:"Dates",value:"dates"},{text:"Commentaires",value:"comments"},{text:"Actions",value:"actions",align:"center"}]}},computed:{projects:function(){return this.$store.getters.getProjects},photographers:function(){return this.$store.getters.getPhotographers}},mounted:function(){this.$store.dispatch("loadProjects"),this.$store.dispatch("loadUserProjects",this.$store.state.auth.user),this.$store.dispatch("loadPhotographers")},methods:{deleteItem:function(t){var e=this;this.$store.dispatch("deleteProject",t).then((function(t){e.$store.dispatch("loadProjects")}),(function(t){alert(t.response.data.message)}))},handleAttribution:function(){var t=this;this.$store.dispatch("setPhotographerToProject",{projectId:this.projectId,userId:this.userId}).then((function(e){t.$store.dispatch("loadProjects")}),(function(t){alert(t.response.data.message)}))}}},Oe=Ie,Ee=Object(c["a"])(Oe,xe,_e,!1,null,null,null),Re=Ee.exports;u()(Ee,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:L["a"],VContainer:J["a"],VDataTable:dt["a"],VDialog:Nt["a"],VForm:z["a"],VIcon:v["a"],VRow:H["a"],VSelect:Bt["a"],VSpacer:_["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleForm(e)}}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Ajouter un projet")])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Général")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Nom du projet",name:"name","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Type de projet",name:"type","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.type,callback:function(e){t.$set(t.project,"type",e)},expression:"project.type"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Client",name:"client","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.company,callback:function(e){t.$set(t.project,"company",e)},expression:"project.company"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{value:t.dateRangeText,label:"Calendrier","prepend-icon":"mdi-calendar"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{range:"",name:"dates"},on:{input:function(e){t.menu2=!1}},model:{value:t.project.dates,callback:function(e){t.$set(t.project,"dates",e)},expression:"project.dates"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-select",{attrs:{items:t.itemSelect,"menu-props":"auto",label:"Select",chips:"",name:"status","prepend-icon":"mdi-account","single-line":""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.test;return[a("v-chip",{attrs:{"text-color":"white",close:"",color:t.getColor(n)}},[t._v(t._s(n))])]}}]),model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Rémunération",name:"budget","prepend-icon":"mdi-bitcoin",type:"text"},model:{value:t.project.remuneration,callback:function(e){t.$set(t.project,"remuneration",e)},expression:"project.remuneration"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Contact")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.email,callback:function(e){t.$set(t.project,"email",e)},expression:"project.email"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Téléphone",name:"phone","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.phone,callback:function(e){t.$set(t.project,"phone",e)},expression:"project.phone"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Adresse",name:"address","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.address,callback:function(e){t.$set(t.project,"address",e)},expression:"project.address"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Pays",name:"country","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.country,callback:function(e){t.$set(t.project,"country",e)},expression:"project.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Contact")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{"prepend-icon":"mdi-account",name:"comments",label:"Comments"},model:{value:t.project.comments,callback:function(e){t.$set(t.project,"comments",e)},expression:"project.comments"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{"prepend-icon":"mdi-account",name:"informations",label:"Informations"},model:{value:t.project.informations,callback:function(e){t.$set(t.project,"informations",e)},expression:"project.informations"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Rendu")])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{disabled:"",label:"URL Photo",name:"pictures","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.pictures,callback:function(e){t.$set(t.project,"pictures",e)},expression:"project.pictures"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary"}},[t._v("Valider")])],1)],1)],1)],1)],1)],1)},Te=[],qe=(a("a15b"),function t(e,a,n,o,r,s,i,c,l,u,d,p,m){Object(q["a"])(this,t),this.name=e,this.type=a,this.email=n,this.company=s,this.address=i,this.status=r,this.country=c,this.remuneration=l,this.dates=u||[],this.pictures=o,this.comments=d,this.informations=p,this.photographer=m}),Ne={name:"Projects",data:function(){return{loading:!1,options:{},itemSelect:["En cours","Fini","En pause","Annulé"],dates:[],project:new qe,menu2:!1}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")},isAdmin:function(){return!!this.loggedIn&&this.currentUser.roles.includes("ROLE_ADMIN")},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},methods:{handleForm:function(){var t=this;this.$store.dispatch("addProject",this.project).then((function(e){t.$router.push("/")}),(function(e){t.loading=!1,t.message=e.response.data.message}))},redirect:function(){this.$router.push("/")},getColor:function(t){return"En cours"===t?"blue":"Fini"===t?"red":"En pause"===t?"orange":"Annulé"===t?"black":void 0}}},Ae=Ne,Be=a("2e4b"),De=a("a844"),Ue=Object(c["a"])(Ae,Se,Te,!1,null,"98b931bc",null),Me=Ue.exports;u()(Ue,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VChip:ut["a"],VCol:L["a"],VContainer:J["a"],VDatePicker:Be["a"],VForm:z["a"],VMenu:xt["a"],VRow:H["a"],VSelect:Bt["a"],VSpacer:_["a"],VTextField:W["a"],VTextarea:De["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"9"}},[a("h1",[t._v("Demandes en cours")]),a("hr"),a("br"),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.openRequests,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"},on:{click:function(e){return t.setState(n,"accepted")}}},[t._v(" mdi-check ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.setState(n,"refused")}}},[t._v(" mdi-close ")])]}}])})],1),a("v-col",{attrs:{cols:"9"}},[a("h1",{staticStyle:{color:"grey"}},[t._v("Demandes fermées")]),a("hr"),a("br"),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.closedRequests,options:t.options,"server-items-length":10,loading:t.loading},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)],1)},Le=[],Je={name:"Projects",data:function(){return{dialog:!1,loading:!1,projectId:"",options:{},itemSelect:["En cours","Fini","En pause","Annulé"],headers:[{text:"Type",value:"type",align:"start"},{text:"Etat",value:"state"},{text:"Photographer",value:"photographer.name"},{text:"Actions",value:"actions",align:"center"}]}},computed:{closedRequests:function(){return this.$store.getters.getRequests.filter((function(t){return["accepted","refused"].includes(t.state)}))},openRequests:function(){return this.$store.getters.getRequests.filter((function(t){return"open"===t.state}))},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.$store.dispatch("loadRequests")},methods:{setState:function(t,e){var a=this;this.$store.dispatch("setRequestState",{requestId:t._id,state:e}).then((function(t){a.$store.dispatch("loadRequests")}),(function(t){alert(t.response.data.message)}))},deleteItem:function(t){var e=this;this.$store.dispatch("deleteRequest",t).then((function(t){e.$store.dispatch("loadRequests")}),(function(t){alert(t.response.data.message)}))}}},ze=Je,He=Object(c["a"])(ze,Fe,Le,!1,null,"28642fc4",null),We=He.exports;u()(He,{VCol:L["a"],VContainer:J["a"],VDataTable:dt["a"],VIcon:v["a"],VRow:H["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.validateProject(e)}}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Ajouter un projet")])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Général")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Nom du projet",name:"name",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Type de projet",name:"type",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.type,callback:function(e){t.$set(t.project,"type",e)},expression:"project.type"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Client",name:"client",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.company,callback:function(e){t.$set(t.project,"company",e)},expression:"project.company"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{value:t.dateRangeText,label:"Calendrier","prepend-icon":"mdi-calendar"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{readonly:"",range:"",name:"dates"},on:{input:function(e){t.menu2=!1}},model:{value:t.project.dates,callback:function(e){t.$set(t.project,"dates",e)},expression:"project.dates"}})],1)],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Statut",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.status,callback:function(e){t.$set(t.project,"status",e)},expression:"project.status"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Rémunération",name:"budget",readonly:"","prepend-icon":"mdi-bitcoin",type:"text"},model:{value:t.project.remuneration,callback:function(e){t.$set(t.project,"remuneration",e)},expression:"project.remuneration"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Contact")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Email",name:"email",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.email,callback:function(e){t.$set(t.project,"email",e)},expression:"project.email"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Téléphone",name:"phone",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.phone,callback:function(e){t.$set(t.project,"phone",e)},expression:"project.phone"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Adresse",name:"address",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.address,callback:function(e){t.$set(t.project,"address",e)},expression:"project.address"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-text-field",{attrs:{label:"Pays",name:"country",readonly:"","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.country,callback:function(e){t.$set(t.project,"country",e)},expression:"project.country"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Contact")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{"prepend-icon":"mdi-account",name:"comments",label:"Comments"},model:{value:t.project.comments,callback:function(e){t.$set(t.project,"comments",e)},expression:"project.comments"}})],1),a("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[a("v-textarea",{attrs:{"prepend-icon":"mdi-account",name:"informations",readonly:"",label:"Informations"},model:{value:t.project.informations,callback:function(e){t.$set(t.project,"informations",e)},expression:"project.informations"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h1",[t._v("Rendu")])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-text-field",{attrs:{label:"URL Photo",name:"pictures","prepend-icon":"mdi-account",type:"text"},model:{value:t.project.pictures,callback:function(e){t.$set(t.project,"pictures",e)},expression:"project.pictures"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary"}},[t._v("Envoyer le projet")])],1)],1)],1)],1)],1)],1)},Ke=[],Qe={name:"Projects",data:function(){return{loading:!1,options:{},itemSelect:["En cours","Fini","En pause","Annulé"],dates:[],project:new qe,menu2:!1}},created:function(){this.$store.dispatch("loadProjects")},mounted:function(){var t;this.project=null!==(t=this.$store.getters.getProject(this.$route.params.id))&&void 0!==t?t:{}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")},isAdmin:function(){return!!this.loggedIn&&this.currentUser.roles.includes("ROLE_ADMIN")},loggedIn:function(){return this.$store.state.auth.status.loggedIn}},methods:{validateProject:function(){var t=this;console.log(this.project),this.$store.dispatch("validateProject",this.project).then((function(e){t.$router.push("/")}),(function(e){t.loading=!1,t.message=e.response.data.message}))},redirect:function(){this.$router.push("/")},getColor:function(t){return"En cours"===t?"blue":"Fini"===t?"red":"En pause"===t?"orange":"Annulé"===t?"black":void 0}}},Xe=Qe,Ye=Object(c["a"])(Xe,Ge,Ke,!1,null,"58340c73",null),Ze=Ye.exports;u()(Ye,{VBtn:h["a"],VCard:M["a"],VCardActions:F["a"],VCardText:F["b"],VCol:L["a"],VContainer:J["a"],VDatePicker:Be["a"],VForm:z["a"],VMenu:xt["a"],VRow:H["a"],VSpacer:_["a"],VTextField:W["a"],VTextarea:De["a"],VToolbar:G["a"],VToolbarTitle:K["b"]});var ta=[{path:"/admin",name:"admin",component:Re},{path:"/admin/demandes",name:"demandes",component:We},{path:"/admin/photographes",name:"photographes",component:je},{path:"/admin/ajouter_projet",name:"ajouter_projet",component:Me},{path:"/admin/photographer/:id",name:"Photographer",component:Wt},{path:"/admin/projets",name:"AdminProjects",component:Zt},{path:"/admin/notifications",name:"AdminNotifications",component:pe},{path:"/admin/project/:id",name:"UserProject",component:Ze}],ea=ta.map((function(t){return Object(R["a"])(Object(R["a"])({},t),{},{meta:{public:!1}})})),aa=rt.concat(he).concat(ea);n["a"].use(E["a"]);var na=new E["a"]({mode:"history",base:"/",routes:[{path:"/",name:"WelcomePage",component:O}].concat(aa)}),oa=na,ra=a("2f62"),sa=(a("d3b7"),a("bee2")),ia=a("bc3a"),ca=a.n(ia),la="https://api.afroto.com/api/auth/",ua=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"login",value:function(t){return ca.a.post(la+"signin",{username:t.username,password:t.password}).then((function(t){return t.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(t){return ca.a.post(la+"signup",{username:t.username,name:t.name,email:t.email,birthdate:t.birthdate,phone:t.phone,city:t.city,password:t.password})}}]),t}(),da=new ua,pa=JSON.parse(localStorage.getItem("user")),ma=pa?{status:{loggedIn:!0},user:pa}:{status:{loggedIn:!1},user:null},ha={namespaced:!0,state:ma,actions:{login:function(t,e){var a=t.commit;return da.login(e).then((function(t){return a("loginSuccess",t),Promise.resolve(t)}),(function(t){return a("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;da.logout(),e("logout")},register:function(t,e){var a=t.commit;return da.register(e).then((function(t){return a("registerSuccess"),Promise.resolve(t.data)}),(function(t){return a("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},logout:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1}}};a("7db0");function va(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{"x-access-token":t.accessToken}:{}}var fa="https://api.afroto.com/project/",ga=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"getProjects",value:function(){return ca.a.get(fa,{headers:va()})}},{key:"getProject",value:function(t){return ca.a.get(fa+t._id,{headers:va()})}},{key:"deleteProject",value:function(t){return ca.a.delete(fa+t._id,{headers:va()})}},{key:"getProjectByPhotographer",value:function(t){return ca.a.get(fa+"getProjectByPhotographer/"+t.id,{headers:va()})}},{key:"validateProject",value:function(t){return console.log(t),ca.a.post(fa+"validateProject/"+t._id,{url:t.url},{headers:va()})}},{key:"setPhotographer",value:function(t){return ca.a.post(fa+"setPhotographer",{project_id:t.projectId,photographer_id:t.userId},{headers:va()})}},{key:"postProject",value:function(t){return ca.a.post(fa,{name:t.name,type:t.type,email:t.email,company:t.company,address:t.address,country:t.country,remuneration:t.remuneration,dates:t.dates,pictures:t.pictures,comments:t.comments,informations:t.informations,photographer:t.photographer},{headers:va()}).then((function(t){return t.data}))}},{key:"putProject",value:function(t){return ca.a.put(fa+t._id,{name:t.name,type:t.type,email:t.email,company:t.company,address:t.address,country:t.country,remuneration:t.remuneration,dates:t.dates,pictures:t.pictures,comments:t.comments,informations:t.informations,photographer:t.photographer},{headers:va()}).then((function(t){return t.data}))}}]),t}(),ba=new ga,ya={state:{projects:[],userProjects:[]},actions:{loadProjects:function(t){var e=this,a=t.commit;ba.getProjects().then((function(t){a("setProjects",t.data.data)}),(function(t){e.content=t.response.data.message}))},loadUserProjects:function(t,e){var a=this,n=t.commit;ba.getProjectByPhotographer(e).then((function(t){n("setUserProjects",t.data.data)}),(function(t){a.content=t.response.data.message}))},updateProject:function(t,e){var a=this,n=t.dispatch;ba.putProjects(e).then((function(t){n("loadProjects")}),(function(t){a.content=t.response.data.message}))},deleteProject:function(t,e){var a=this,n=t.dispatch;ba.deleteProject(e).then((function(t){n("loadProjects")}),(function(t){a.content=t.response.data.message}))},validateProject:function(t,e){var a=this,n=t.dispatch;ba.validateProject(e).then((function(t){n("loadProjects")}),(function(t){a.content=t.response.data.message}))},addProject:function(t,e){var a=this,n=t.dispatch;ba.postProject(e).then((function(t){n("loadProjects")}),(function(t){a.content=t.response.data.message}))},setPhotographerToProject:function(t,e,a){var n=this,o=t.dispatch;ba.setPhotographer(e,a).then((function(t){o("loadProjects")}),(function(t){n.content=t.response.data.message}))}},mutations:{setProjects:function(t,e){t.projects=e},setUserProjects:function(t,e){t.userProjects=e}},getters:{getProjects:function(t){return t.projects},getUserProjects:function(t){return t.userProjects},getProject:function(t){return function(e){return t.projects.find((function(t){return t._id===e}))}}}},ja="https://api.afroto.com/notification/",xa=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"getNotifications",value:function(){return ca.a.get(ja,{headers:va()})}},{key:"getNotification",value:function(t){return ca.a.get(ja+t._id,{headers:va()})}},{key:"deleteNotification",value:function(t){return ca.a.delete(ja+t._id,{headers:va()})}},{key:"getNotificationByPhotographer",value:function(t){return ca.a.get(ja+"getNotificationByPhotographer/"+t.id,{headers:va()})}},{key:"setPhotographer",value:function(t){return ca.a.post(ja+"setPhotographer",{notification_id:t.notificationId,photographer_id:t.userId},{headers:va()})}},{key:"postNotification",value:function(t){return ca.a.post(ja,{message:t.message,deadline:t.deadline,importance:t.importance,seen:t.seen},{headers:va()}).then((function(t){return t.data}))}},{key:"putNotification",value:function(t){return ca.a.put(ja+t._id,{name:t.name,type:t.type,email:t.email,seen:t.seen},{headers:va()}).then((function(t){return t.data}))}}]),t}(),_a=new xa,ka={state:{notifications:[],userNotifications:[]},actions:{loadNotifications:function(t){var e=this,a=t.commit;_a.getNotifications().then((function(t){a("setNotifications",t.data.data)}),(function(t){e.content=t.response.data.message}))},loadUserNotifications:function(t,e){var a=this,n=t.commit;_a.getNotificationByPhotographer(e).then((function(t){n("setUserNotifications",t.data.data)}),(function(t){a.content=t.response.data.message}))},updateNotification:function(t,e){var a=this,n=t.dispatch;_a.putNotifications(e).then((function(t){n("loadNotifications")}),(function(t){a.content=t.response.data.message}))},deleteNotification:function(t,e){var a=this;t.dispatch;_a.deleteNotification(e).then((function(t){}),(function(t){a.content=t.response.data.message}))},addNotification:function(t,e){var a=this,n=t.dispatch;_a.postNotification(e).then((function(t){n("loadNotifications")}),(function(t){a.content=t.response.data.message}))}},mutations:{setNotifications:function(t,e){t.notifications=e},setUserNotifications:function(t,e){t.userNotifications=e}},getters:{getNotifications:function(t){return t.notifications},getUserNotifications:function(t){return t.userNotifications}}},Va="https://api.afroto.com/photographer/",Pa=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"getPhotographers",value:function(){return ca.a.get(Va,{headers:va()})}},{key:"getPhotographer",value:function(t){return ca.a.get(Va+t._id,{headers:va()})}},{key:"addEquipment",value:function(t){return ca.a.post(Va+"equipment/"+t._id,{equipment:t.equipment,type:t.type},{headers:va()})}},{key:"deleteEquipment",value:function(t){return ca.a.delete(Va+"equipment/"+t._id+"/"+t.type+"/"+t.camera,{headers:va()})}},{key:"deletePhotographer",value:function(t){return ca.a.delete(Va+t._id,{headers:va()})}},{key:"updatePhotographer",value:function(t){return ca.a.put(Va+t._id,{phone:t.phone,name:t.name,email:t.email,birthdate:t.birthdate,city:t.city,facebook:t.facebook,instagram:t.instagram},{headers:va()})}}]),t}(),$a=new Pa,wa={state:{photographers:[]},actions:{loadPhotographers:function(t){var e=this,a=t.commit;$a.getPhotographers().then((function(t){a("setPhotographers",t.data.data)}),(function(t){e.content=t.response.data.message}))},updateProfile:function(t,e){var a=this;t.commit;$a.updatePhotographer(e).then((function(t){}),(function(t){a.content=t.response.data.message}))},addEquipment:function(t,e){t.commit;return $a.addEquipment(e)},deleteEquipment:function(t,e){t.commit;return $a.deleteEquipment(e)},deletePhotographer:function(t,e){t.commit;return $a.deletePhotographer(e)}},mutations:{setPhotographers:function(t,e){t.photographers=e}},getters:{getPhotographers:function(t){return t.photographers},getPhotographer:function(t){return function(e){return t.photographers.find((function(t){return t._id===e}))}}}},Ca="https://api.afroto.com/request/",Ia=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"getRequests",value:function(){return ca.a.get(Ca,{headers:va()})}},{key:"getRequest",value:function(t){return ca.a.get(Ca+t._id,{headers:va()})}},{key:"deleteRequest",value:function(t){return ca.a.delete(Ca+t._id,{headers:va()})}},{key:"getRequestByPhotographer",value:function(t){return ca.a.get(Ca+"getRequestByPhotographer/"+t.id,{headers:va()})}},{key:"postRequest",value:function(t){return ca.a.post(Ca,{photographer:t.photographer,state:t.state,badges:t.badges},{headers:va()}).then((function(t){return t.data}))}},{key:"setRequestState",value:function(t){return ca.a.post(Ca+"setRequestState",{request_id:t.requestId,state:t.state},{headers:va()})}},{key:"putRequest",value:function(t){return ca.a.put(Ca+t._id,{type:t.type,url:t.url,description:t.description,state:t.state,badges:t.badges,photographer:t.photographer},{headers:va()}).then((function(t){return t.data}))}}]),t}(),Oa=new Ia,Ea={state:{requests:[],userRequests:[]},actions:{loadRequests:function(t){var e=this,a=t.commit;Oa.getRequests().then((function(t){a("setRequests",t.data.data)}),(function(t){e.content=t.response.data.message}))},loadUserRequests:function(t,e){var a=this,n=t.commit;Oa.getRequestByPhotographer(e).then((function(t){n("setUserRequests",t.data.data)}),(function(t){a.content=t.response.data.message}))},updateRequest:function(t,e){var a=this,n=t.dispatch;Oa.putRequests(e).then((function(t){n("loadRequests")}),(function(t){a.content=t.response.data.message}))},deleteRequest:function(t,e){var a=this;t.dispatch;Oa.deleteRequest(e).then((function(t){}),(function(t){a.content=t.response.data.message}))},addRequest:function(t,e){var a=this,n=t.dispatch;Oa.postRequest(e).then((function(t){n("loadRequests")}),(function(t){a.content=t.response.data.message}))},setRequestState:function(t,e,a){var n=this,o=t.dispatch;Oa.setRequestState(e,a).then((function(t){o("loadRequests")}),(function(t){n.content=t.response.data.message}))}},mutations:{setRequests:function(t,e){t.requests=e},setUserRequests:function(t,e){t.userRequests=e}},getters:{getRequests:function(t){return t.requests},getUserRequests:function(t){return t.userRequests}}},Ra="https://api.afroto.com/badge/",Sa=function(){function t(){Object(q["a"])(this,t)}return Object(sa["a"])(t,[{key:"getBadges",value:function(){return ca.a.get(Ra,{headers:va()})}},{key:"getBadge",value:function(t){return ca.a.get(Ra+t._id,{headers:va()})}},{key:"deleteBadge",value:function(t){return ca.a.delete(Ra+t._id,{headers:va()})}},{key:"setPhotographer",value:function(t){return ca.a.post(Ra+"setPhotographer",{badge_id:t.badgeId,photographer_id:t.userId},{headers:va()})}},{key:"postBadge",value:function(t){return ca.a.post(Ra,{message:t.message,deadline:t.deadline,importance:t.importance,seen:t.seen},{headers:va()}).then((function(t){return t.data}))}},{key:"putBadge",value:function(t){return ca.a.put(Ra+t._id,{name:t.name,type:t.type,email:t.email,seen:t.seen},{headers:va()}).then((function(t){return t.data}))}}]),t}(),Ta=new Sa,qa={state:{badges:[],userBadges:[]},actions:{loadBadges:function(t){var e=this,a=t.commit;Ta.getBadges().then((function(t){a("setBadges",t.data.data)}),(function(t){e.content=t.response.data.message}))},loadUserBadges:function(t,e){var a=this,n=t.commit;Ta.getBadgeByPhotographer(e).then((function(t){n("setUserBadges",t.data.data)}),(function(t){a.content=t.response.data.message}))},updateBadge:function(t,e){var a=this,n=t.dispatch;Ta.putBadges(e).then((function(t){n("loadBadges")}),(function(t){a.content=t.response.data.message}))},deleteBadge:function(t,e){var a=this;t.dispatch;Ta.deleteBadge(e).then((function(t){}),(function(t){a.content=t.response.data.message}))},addBadge:function(t,e){var a=this,n=t.dispatch;Ta.postBadge(e).then((function(t){n("loadBadges")}),(function(t){a.content=t.response.data.message}))}},mutations:{setBadges:function(t,e){t.badges=e},setUserBadges:function(t,e){t.userBadges=e}},getters:{getBadges:function(t){return t.badges},getUserBadges:function(t){return t.userBadges}}};n["a"].use(ra["a"]);var Na=new ra["a"].Store({modules:{auth:ha,project:ya,user:wa,notification:ka,request:Ea,badge:qa}}),Aa=a("f309");n["a"].use(Aa["a"]);var Ba=new Aa["a"]({});n["a"].config.productionTip=!1,n["a"].use(B),new n["a"]({router:oa,store:Na,vuetify:Ba,render:function(t){return t(V)}}).$mount("#app")},"612e":function(t,e,a){},"74b4":function(t,e,a){"use strict";a("612e")},"78df":function(t,e,a){"use strict";a("965c")},"965c":function(t,e,a){},fba6:function(t,e,a){"use strict";a("3213")}});
//# sourceMappingURL=app.16392911.js.map