var nodemailer = require('nodemailer')

var transporter = nodemailer.createTransport({
  host: process.env.SMTP_HOST,
  port: process.env.SMTP_PORT,
  secure: true,
  auth: {
    user: process.env.SMTP_USER,
    pass: process.env.SMTP_PASSWORD
  }
})

exports.welcomeMail = (item) => transporter.sendMail({
  from: '"Afroto" <noreply@afroto.com>',
  to: item.email,
  subject: 'Bienvenue chez Afroto, ' + item.name + ' !',
  html: welcomeEmail
}, function (error, info) {
  if (error) {
    console.log(error)
  }
})

exports.newProjectMail = (item) => transporter.sendMail({
  from: '"Afroto" <noreply@afroto.com>',
  to: 'victorguegan@orange.fr',
  subject: 'Un projet vous a été attribué, ' + item.name + ' !',
  html: '<h1>email pour nouveau projet</h1>'
}, function (error, info) {
  if (error) {
    console.log(error)
  }
})

var welcomeEmail = '<head> <style type="text/css" title="x-apple-mail-formatting"></style> <meta http-equiv="Content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=375, initial-scale=-1"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="format-detection" content="date=no"> <meta name="format-detection" content="address=no"> <meta name="format-detection" content="telephone=no"> <meta name="x-apple-disable-message-reformatting"> <link href="https://fonts.googleapis.com/css?family=Gothic+A1:400,700" rel="stylesheet"> <title>Email Template</title> <style type="text/css" media="screen"> body{padding: 0 !important; margin: 0 !important; display: block !important; min-width: 100% !important; width: 100% !important; background: #ebeef4; -webkit-text-size-adjust: none}a{color: #1936e7; text-decoration: none}.text-button.t-white a{color: #fefffe; text-decoration: none}.text-button.t-orange a{color: #ff7f02; text-decoration: none}.text-button.t-dark a{color: #000001; text-decoration: none}.text-button.t-blue a{color: #1936e7; text-decoration: none}.footer-text a{color: #999b9f; text-decoration: none}.t-orange a{color: #ff7f02}.t-blue a{color: #1936e7}.t-dark a{color: #000001}.t-white a{color: #fefffe}p{padding: 0 !important; margin: 0 !important}img{-ms-interpolation-mode: bicubic}.mcnPreviewText{display: none !important}@media only screen and (max-device-width:480px), only screen and (max-width:480px){u+.body .gwfw{width: 100% !important; width: 100vw !important}.m-shell{width: 100% !important; min-width: 100% !important}.m-center{text-align: center !important}.center{margin: 0 auto !important}.td{width: 100% !important; min-width: 100% !important}.m-br-15{height: 15px !important}.m-td, .m-hide{display: none !important; width: 0 !important; height: 0 !important; font-size: 0 !important; line-height: 0 !important; min-height: 0 !important}.m-block{display: block !important}.fluid-img img{width: 100% !important; max-width: 100% !important; height: auto !important}.column{float: left !important; width: 100% !important; display: block !important}.content-spacing{width: 15px !important}}</style></head><body class="body" style="background: #ebeef4; -webkit-text-size-adjust: none; padding: 0 !important; margin: 0 !important; display: block !important; min-width: 100% !important; width: 100% !important;"> <div style="color:transparent;visibility:hidden;opacity:0;font-size:0px;border:0;max-height:1px;width:1px;margin:0px;padding:0px;border-width:0px!important;display:none!important;line-height:0px!important;"> <img border="0" width="1" height="1" src="https://www.afroto.com/wp-content/uploads/2020/03/cropped-Logo-Afroto-2.png"></div><span style="color:transparent;visibility:hidden;display:none;opacity:0;height:0;width:0;font-size:0;"></span><img src="https://www.afroto.com/wp-content/uploads/2020/03/cropped-Logo-Afroto-2.png" style="border:0;width:1px;height:1px;border-width:0px!important;display:none!important;line-height:0!important;" width="1" height="1"> <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ebeef4" class="gwfw"> <tbody> <tr> <td class="img" width="7" style="font-size:0pt; line-height:0pt; text-align:left;"></td><td align="center" valign="top"> <table width="480" border="0" cellspacing="0" cellpadding="0" class="m-shell"> <tbody> <tr> <td class="td" style="width:480px; min-width:480px; font-size:0pt; line-height:0pt; padding:0; margin:0; font-weight:normal;"> <table width="100%" border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td class="img-center p31-15-42-15 mpb-34" style="font-size:0pt; line-height:0pt; text-align:center; padding:31px 15px 42px 15px;"> <a href="https://scottscheapflights.com" target="_blank" style="color: #1936e7; text-decoration: none;"><img src="https://www.afroto.com/wp-content/uploads/2020/03/cropped-Logo-Afroto-2.png" width="127" height="38" border="0" alt="Scott\'s Cheap Flights logo" style="-ms-interpolation-mode: bicubic;"></a> </td></tr><tr> <td class="img p91-30-0 mtp-106" bgcolor="#ffffff" style="font-size:0pt; line-height:0pt; text-align:left; padding: 0px 30px 0;"> <table width="100%" border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td class="img p90-0-21 mtp-56" style="font-size:0pt; line-height:0pt; text-align:left; padding:50px 0 21px;"> <table width="100%" border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td class="h1 pb-14" style="color:#000001; font-family:\'Gothic A1\', Arial, sans-serif; font-size:20px; line-height:24px; text-align:left; font-weight:bold; min-width:auto !important; padding-bottom:14px;"> Bienvenue chez Afroto ! </td></tr><tr> <td class="text" style="color:#4e5769; font-family:\'Gothic A1\', Arial, sans-serif; font-size:16px; line-height:30px; text-align:left; min-width:auto !important;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut consequat dolor quis elit blandit tincidunt sit amet in augue. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nam ultrices cursus neque, vitae pulvinar nibh finibus eu.<br><!-- <a href="https://scottscheapflights.com/terms-of-use" style="color: #1936e7; text-decoration: none;">Terms of Use</a><br><a href="https://scottscheapflights.com/privacy-policy" style="color: #1936e7; text-decoration: none;">Privacy Policy</a><br><br>If you have any questions regarding your Scott\'s Cheap Flights account or these policy changes, you can contact us at <a href="mailto:support@scottscheapflights.com" dir="ltr" x-apple-data-detectors="true" x-apple-data-detectors-type="link" x-apple-data-detectors-result="0">support@scottscheapflights.com</a>. <br><br>By continuing to use the Scott\'s Cheap Flights services you are agreeing to our new Terms of Use and Privacy Policy effective Jul 31, 2019. <br><br>--> </td></tr></tbody> </table> </td></tr></tbody> </table> </td></tr><tr> <td align="center" style="border-top: 1px solid #696969; padding: 20px 0; padding-bottom: 30px;"><!-- <table border="0" cellspacing="0" cellpadding="0"> <tbody> <tr> <td class="img" width="45" style="font-size:0pt; line-height:0pt; text-align:left;"><a href="https://instagram.com/scottscheapflights/" target="_blank" style="color: #1936e7; text-decoration: none;"><img src="http://scottscheapflights.img-us3.com/_social_/flat-color-round-instagram.png" width="45" height="45" border="0" alt="Instagram icon" style="-ms-interpolation-mode: bicubic;"></a></td><td class="img" width="30" style="font-size:0pt; line-height:0pt; text-align:left;"></td><td class="img" width="45" style="font-size:0pt; line-height:0pt; text-align:left;"><a href="https://www.facebook.com/scottscheapflights" target="_blank" style="color: #1936e7; text-decoration: none;"><img src="http://scottscheapflights.img-us3.com/_social_/flat-color-round-facebook.png" width="45" height="45" border="0" alt="Facebook icon" style="-ms-interpolation-mode: bicubic;"></a></td><td class="img" width="30" style="font-size:0pt; line-height:0pt; text-align:left;"></td><td class="img" width="45" style="font-size:0pt; line-height:0pt; text-align:left;"><a href="https://twitter.com/scottsflights" target="_blank" style="color: #1936e7; text-decoration: none;"><img src="http://scottscheapflights.img-us3.com/_social_/flat-color-round-twitter.png" width="45" height="45" border="0" alt="Twitter icon" style="-ms-interpolation-mode: bicubic;"></a></td></tr></tbody> </table> --> </td></tr><tr> <td class="text-small center grey" style="font-family:Arial,sans-serif; font-size:12px; line-height:18px; text-align:center; color:#5d5d5d;"> <a href="#" target="_blank" class="link-blue-u" style="color: #045fb4; text-decoration: underline;"><span class="link-blue-u" style="color:#045fb4; text-decoration:underline;">Unsubscribe</span></a><br/>.</td></tr></tbody> </table> </td></tr></tbody> </table> </td></tr></tbody> </table></body>'
